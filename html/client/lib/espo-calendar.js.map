{"version":3,"file":"espo-calendar.js","sources":["original/espo-calendar.js"],"names":["define","_exports","_view","_moment","FullCalendar","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","cache","has","get","key","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","prototype","hasOwnProperty","call","set","_interopRequireWildcard","CalendarView","template","eventAttributes","colors","allDayScopeList","scopeList","header","modeList","fullCalendarModeList","defaultMode","slotDuration","titleFormat","month","week","day","rangeSeparator","fetching","modeViewMap","agendaWeek","agendaDay","basicWeek","basicDay","listWeek","extendedProps","calendar","events","click button[data-action=\"prev\"]","this","actionPrevious","click button[data-action=\"next\"]","actionNext","click button[data-action=\"today\"]","actionToday","click [data-action=\"mode\"]","e","mode","$","currentTarget","data","selectMode","click [data-action=\"refresh\"]","actionRefresh","click [data-action=\"toggleScopeFilter\"]","$target","filterName","$check","find","hasClass","removeClass","addClass","stopPropagation","toggleScopeFilter","isCustomViewAvailable","isCustomView","todayLabel","translate","todayLabelShort","slice","setup","wait","Espo","loader","requirePromise","date","options","setupMode","$container","Utils","clone","getMetadata","getConfig","getHelper","themeManager","getParam","getAcl","getPermissionLevel","userId","forEach","scope","check","push","enabledScopeList","getStoredEnabledScopeList","toString","item","color","createView","selector","viewMode","teamIdList","length","indexOf","viewId","calendarViewDataList","getPreferences","id","viewName","name","isAgendaMode","previousMode","trigger","$el","changeView","toAgenda","fromAgenda","refetchEvents","updateDate","hasView","getModeButtonsView","reRender","getView","index","splice","storeEnabledScopeList","getStorage","title","isToday","getTitle","text","view","todayUnix","unix","startUnix","activeStart","endUnix","timeGridWeek","timeGridDay","dayGridWeek","dayGridDay","dayGridMonth","type","let","end","format","start","dateToMoment","currentStart","currentEnd","subtract","userName","escapeString","convertToFcEvent","o","event","recordId","dateStart","dateEnd","dateStartDate","dateEndDate","status","originalColor","display","isWorkingRange","groupId","userIdList","userNameMap","sort","v1","v2","localeCompare","attr","getDateTime","toMoment","duration","add","toISOString","allDay","handleAllDay","fillColor","handleStatus","tz","getTimeZone","getEventTypeCompletedStatusList","getEventTypeCanceledStatusList","getColorFromScopeName","includes","shadeColor","className","percent","getThemeManager","alpha","substring","f","parseInt","t","p","R","G","B","Math","round","notInitial","allDayCopy","hours","minutes","toDate","convertToFcEvents","list","now","convertDateTime","internalDateTimeFormat","timeZone","m","utc","getCalculatedHeight","height","calculateContentContainerHeight","adjustSize","isRemoved","setOption","updateSize","afterRender","containerSelector","$calendar","timeFormat","slotLabelFormat","headerToolbar","eventTimeFormat","initialView","defaultRangeSeparator","weekNumbers","weekNumberCalculation","editable","selectable","selectMirror","firstDay","weekStart","slotEventOverlap","snapDuration","undefined","longPressDelay","eventColor","nowIndicator","allDayText","weekText","views","dayHeaderFormat","windowResize","select","info","startStr","endStr","createEvent","unselect","eventClick","Ui","notify","removeDisabled","render","listenToOnce","model","removeModel","listenTo","bypassClose","close","updateModel","datesSet","fromIso","getDate","callback","dateTimeFormat","from","to","fromStr","toStr","fetchEvents","eventDrop","delta","attributes","dateString","internalDateFormat","props","obtainPropsFromEvent","getModelFactory","create","save","patch","then","applyPropsToEvent","catch","revert","eventResize","setExtendedProp","eventContent","arg","$content","append","timeText","avatarHtml","getAvatarHtml","$div","css","overflow","html","innerHTML","aspectRatio","contentHeight","initialDate","setTimeout","Calendar","values","getToday","assignedUserId","assignedUserName","added","addModel","url","encodeURIComponent","join","agenda","Ajax","getRequest","getClonedAttributes","entityType","addEvent","eventId","getEventById","setDates","setProp","remove","prev","next","additionalColorList","j","i","today"],"mappings":"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"}